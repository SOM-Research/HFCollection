<!DOCTYPE html>
<html lang="en">
    <head>
        <title>HFCollection</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="HFCollection recovers valuable information of the Hugging Face repositories alongside its Git commit history.">
        
        <!-- CSS only -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
        <!-- JavaScript Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>

        <!-- Load c3.css -->
        <link href="resources/c3/c3.css" rel="stylesheet">

        <!-- Load d3.js and c3.js -->
        <script src="resources/c3/d3-5.8.2.min.js" charset="utf-8"></script>
        <script src="resources/c3/c3.min.js"></script>

        <link href="resources/css/style.css" rel="stylesheet" media="screen">
        <link href='http://fonts.googleapis.com/css?family=Roboto:700' rel='stylesheet' type='text/css'>
    </head>
    <body style="padding-top: 70px;">

        <nav class="navbar navbar-expand-lg bg-light fixed-top">
            <div class="container">
                
                <img style="float: left; padding-right: 10px; padding-top: 10px; width: 45px;" src="resources/HFCollection_logo.svg"/>
                <a class="navbar-brand" href="index.html">HFCollection</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="index.html">Home</a>
                        </li>
                        
                    </ul>
                    <ul class="navbar-nav ms-auto">
                        <li>
                          <button type="button" class="btn btn-default" onClick="location.href='https://github.com/SOM-Research/HFCollection'">
                            <img style="width: 20px;" src="resources/github.svg">
                            View on Github
                          </button>
                        </li>
                      </ul>
                </div>

            </div>
        </nav>

        <div class="container">
            <div class="row d-flex justify-content-center">
        
                <div class="col-9">
                    <h3>Database</h3>
                    <p>
                        Our database is composed by 10 tables (see <a href="diagram.html">UML diagram</a> to visualize the main components).
                        One required fact when working with datasets is how large are the tables? 
                        In the following table is shown how many records has each database table.
                        (All data in this page is from 01/09/2022).
                    </p>
                </div>
            </div>
            <div class="row d-flex justify-content-center">
                <div class="col-3">
                    <table class="table table-striped">
                        <thead>
                          <tr>
                            <th scope="col" class="text-center">table name</th>
                            <th scope="col" class="text-center">number of records</th>
                          </tr>
                        </thead>
                        <tbody>
                              <tr>
                                <td>author</td>
                                <td class="text-end">38,424</td>
                              </tr>
                              <tr>
                                <td>commits</td>
                                <td class="text-end">684,720</td>
                              </tr>
                              <tr>
                                <td>dataset</td>
                                <td class="text-end">8,043</td>
                              </tr>
                              <tr>
                                <td>discussion</td>
                                <td class="text-end">4,141</td>
                              </tr>
                              <tr>
                                <td>file</td>
                                <td class="text-end">2,913,386</td>
                              </tr>
                              <tr>
                                <td>files_in_commit</td>
                                <td class="text-end">989,334</td>
                              </tr>
                              <tr>
                                <td>model</td>
                                <td class="text-end">68,667</td>
                              </tr>
                              <tr>
                                <td>space</td>
                                <td class="text-end">8,046</td>
                              </tr>
                              <tr>
                                <td>tag</td>
                                <td class="text-end">13,261</td>
                              </tr>
                              <tr>
                                <td>tags_in_repo</td>
                                <td class="text-end">337,199</td>
                              </tr>
                        </tbody>
                      </table>
                </div>
            </div>
            <div class="row d-flex justify-content-center">
        
                <div class="col-9">
                    <h3>Metrics from our dataset</h3>
                    <p>
                        We can extract interesting metrics from our data!
                    </p>
                </div>
            </div>
            <div class="row d-flex justify-content-center">
                
                <div class="col-5">
                    <h5>Which organization creates the most models?</h5>
                    <br> <!--Chapuza?-->
                    <p>
                        It is interesting to know which organization is creating/uploading the more models in Hugging Face. In the following chart we can see that the organization that creates the most models is huggingtweets, but there are other known names too, such as Google or Facebook.
                    </p>
                    <div id="bar_chart"></div>
                    <br>
                </div>

                <div class="col-1"></div>

                <div class="col-5">
                    <h5>How many files has a repository?</h5>
                    <br> <!--Chapuza?-->
                    <p>Here we show the number of files a repository has. For example, the first case tells that 14.8% of all repositories in the Hugging Face Hub have only 1 file.</p>
                    <div id="donut_chart"></div>

                    <br>
                </div>
                
            </div>
            <div class="row d-flex justify-content-center">
                
                <div class="col-5">
                    <h5>How often a file is modified in a repository?</h5>
                    <br> <!--Repo: harr/distilbert-base-uncased-finetuned-ingredients-->
                    <p>
                        When analyzing repositories in code hosting platforms, one thing usually overlooked is which files are more often modified. This could give us a hint of how is worked in the repository or how it is organised.
                    </p>
                    <div class="text-center">
                        <img src="resources/metric_3_file_heatmap.svg" class="w-75" alt="example metric 3">
                    </div>
                    <br>
                </div>

                <div class="col-1"></div>

                <div class="col-5">
                    <h5>Does it has an associated <i>paperwithcode</i>?</h5>
                    <br> <!--Chapuza?-->
                    <p>
                        Some dataset repositories has an associated <a href="https://paperswithcode.com/"><i>paperwithcode</i></a> element. This platform is used to upload the code of a paper so it is easier to replicate the work.
                    </p>
                    <div id="pie_chart"></div>
                </div>
                
            </div>
        </div>
        
        <footer>
            <div class="container">
              <div class="row">
                <div class="col-12">  
                    <p class="text-center"><small>HFCollection made with &#9829; at <a href="https://som-research.uoc.edu" target="_blank">SOM-Research Lab</a></small> </p>
                    <p class="text-center"><small>Licensed under <a href="http://creativecommons.org/licenses/by/3.0/" target="_blank">CC BY 3.0</a></small></p>
                </div>
              </div>
            </div>
            </footer>
    </body>

    <script type="text/javascript">

    var chart_1 = c3.generate({
        bindto: '#bar_chart',
        data: {
            columns: [
              ['num models',2904, 2402, 1384, 1125, 592, 564, 461, 379, 319, 309],
            ],
            type : 'bar',

            onclick: function (d, i) { console.log("onclick", d, i); },
            onmouseover: function (d, i) { console.log("onmouseover", d, i); },
            onmouseout: function (d, i) { console.log("onmouseout", d, i); }
        },
        axis: {
            x: {
                type: 'category',
                categories: ['huggingtweets', 'Jeevesh8', 'Helsinki-NLP', 'jonatasgrosman', 'huseinzol05', 'DOOGLAK', 'CEBaB', 'google', 'facebook', 'masakhane'],
                tick: {
                    rotate: 75,
                    multiline: false
                },
            }
        }
    });

    var chart_2 = c3.generate({
        bindto: '#donut_chart',
        data: {
            columns: [
                ['1'   , 13043],
                ['2'   ,  6582],
                ['3'   ,  6436],
                ['4'   ,  6570],
                ['5'   ,  5084],
                ['6'   ,  4164],
                ['7'   ,  6194],
                ['8'   ,  7443],
                ['9'   ,  5987],
                ['10'  ,  7277],
                ['11'  ,  3720],
                ['12'  ,  3823],
                ['13'  ,  2523],
                ['14'  ,  1633],
                ['More',  7494],
            ],
            type : 'donut',

            onclick: function (d, i) { console.log("onclick", d, i); },
            onmouseover: function (d, i) { console.log("onmouseover", d, i); },
            onmouseout: function (d, i) { console.log("onmouseout", d, i); }
        },
        donut: {
            title: "Repos per num of files"
        }
    });

    var chart_4 = c3.generate({
        bindto: '#pie_chart',
        data: {
            columns: [
                ['yes'  ,  596],
                ['no'   , 7291],
            ],
            type : 'pie',

            onclick: function (d, i) { console.log("onclick", d, i); },
            onmouseover: function (d, i) { console.log("onmouseover", d, i); },
            onmouseout: function (d, i) { console.log("onmouseout", d, i); }
        },
    });

    </script>
    
</html>