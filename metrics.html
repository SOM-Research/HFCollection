<!DOCTYPE html>
<html lang="en">
    <head>
        <title>HFCommunity</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="HFCommunity recovers valuable information of the Hugging Face repositories alongside its Git commit history.">
        
        <!-- CSS only -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
        <!-- JavaScript Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>

        <!-- Load c3.css -->
        <link href="resources/c3/c3.css" rel="stylesheet">

        <!-- Load d3.js and c3.js -->
        <script src="resources/c3/d3-5.8.2.min.js" charset="utf-8"></script>
        <script src="resources/c3/c3.min.js"></script>

        <link href="resources/css/style.css" rel="stylesheet" media="screen">
        <link href='http://fonts.googleapis.com/css?family=Roboto:700' rel='stylesheet' type='text/css'>
    </head>
    <body style="padding-top: 70px;">
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-LTWE41R3PF"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-LTWE41R3PF');
        </script>

        <nav class="navbar navbar-expand-lg bg-light fixed-top">
            <div class="container">
                
                <a class="navbar-brand" href="index.html">
                    <img style="float: left; padding-right: 10px; padding-top: 5px; width: 45px;" src="resources/figs/HFCommunity_logo.svg"/>
                    <span class="align-middle">HFCommunity</span>
                </a>  
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li>
                          <button type="button" class="btn btn-default" onClick=" window.open('https://github.com/SOM-Research/HFCommunity','_blank')">
                            <img style="width: 20px;" src="resources/figs/github.svg">
                            View on Github
                          </button>
                        </li>
                      </ul>
                </div>

            </div>
        </nav>

        <div class="container">
            
            <div class="row d-flex justify-content-center">
        
                <div class="col-9">
                    <h3>Metrics from our dataset</h3>
                    <p>
                        We can extract interesting metrics from our data! In the following we show some basic examples of the metrics that can be extracted from our dataset. (All data in this page is from 01/09/2022). 
                    </p>
                </div>
            </div>
            <div class="row d-flex justify-content-center">
                
                <div class="col-5">
                    <h5>Which organization creates the most models?</h5>
                    <br> <!--Chapuza?-->
                    <p>
                        It is interesting to know which organization is creating/uploading the more models in Hugging Face. In the following chart we can see that the organization that creates the most models is huggingtweets, but there are other known names too, such as Google or Facebook.
                    </p>
                    <div id="bar_chart"></div>
                    <br>
                </div>

                <div class="col-1"></div>

                <div class="col-5">
                    <h5>How many files does a repository have?</h5>
                    <br> <!--Chapuza?-->
                    <p>Here we show the number of files a repository has. For example, the first case tells that 14.8% of all repositories in the Hugging Face Hub have only 1 file.</p>
                    <div id="donut_chart"></div>

                    <br>
                </div>
                
            </div>
            <div class="row d-flex justify-content-center">
                
                <div class="col-5">
                    <h5>How often a file is modified in a repository?</h5>
                    <br> <!--Repo: harr/distilbert-base-uncased-finetuned-ingredients-->
                    <p>
                        When analyzing repositories in code hosting platforms, one thing usually overlooked is which files are more often modified. This could give us a hint of how is worked in the repository or how it is organised.
                    </p>
                    <div class="text-center">
                        <img src="resources/figs/metric_3_file_heatmap.svg" class="w-75" alt="example metric 3">
                    </div>
                    <br>
                </div>

                <div class="col-1"></div>

                <div class="col-5">
                    <h5>Does it have an associated <i>paperwithcode</i>?</h5>
                    <br> <!--Chapuza?-->
                    <p>
                        Some dataset repositories have an associated <a href="https://paperswithcode.com/"><i>paperwithcode</i></a> element. This platform is used to upload the code of a paper so it is easier to replicate the work.
                    </p>
                    <div id="pie_chart"></div>
                </div>

                
            </div>
            <div class="row d-flex justify-content-center">
                
                <div class="col-5">
                    <h5>How many repositories have discussions?</h5>
                    <br> 
                    <p>
                        One key aspect of the Hugging Face Hub, and recently added, are the <a href="https://huggingface.co/docs/hub/repositories-pull-requests-discussions">pull requests and discussions</a>. This feature enables the collaboration among all community members. But as we see in the following chart, very few repositories leverage of this functionality.
                    </p>
                    <div id="gauge"></div>
                    <br>
                </div>

                <div class="col-1"></div>

                <div class="col-5">
                    <h5>The use of discussions in the Hub</h5>
                    <br> 
                    <p>
                        As we have seen, few projects draw on discussions. Besides using discussions or not, another interesting metric is how much are these discussions exploited. Here we show the number of repositories grouped by the number of discussions and comments. As we can see most repositories only have one thread of discussions.
                    </p>
                    <div id="donut_chart_discussions"></div>
                </div>
                <div class="row d-flex justify-content-center">
                
                    <div class="col-5">
                        <h5>How many comments have discussions in the Hub?</h5>
                        <br> 
                        <p>
                            We have seen that most repositories have just one discussion, but another element to consider are the comments in the threads of discussions. Hence, we show how many comments by average have the discussions in each repository.
                        </p>
                        <div id="bar_chart_comments"></div>
                        <br>
                    </div>
                </div>
            </div>

        </div>
        
        <footer>
            <div class="container">
              <div class="row">
                <div class="col-12">  
                    <p class="text-center"><small>HFCommunity made with &#9829; at <a href="https://som-research.uoc.edu" target="_blank">SOM-Research Lab</a></small> </p>
                    <p class="text-center"><small>Licensed under <a href="http://creativecommons.org/licenses/by/3.0/" target="_blank">CC BY 3.0</a></small></p>
                </div>
              </div>
              <div class="row">
                <div class="col-12 text-center" style="padding-top: 10px;">
                    <a href="mailto:aait_mimoune@uoc.edu" target="_blank">
                        <img src="resources/figs/white-mail-icon.png" class="footer-icon"></a>
                    <a href="https://github.com/ademait" target="_blank">
                        <img src="resources/figs/github-icon.png" class="footer-icon"></a>
                    <a href="https://www.linkedin.com/in/adem-ait-fonoll%C3%A0-91bba5199/" target="_blank"><img src="resources/figs/linkedin-color-icon.png" class="footer-icon">
                    </a>
                    
                </div>
              </div>
            </div>
        </footer>
    </body>

    <script type="text/javascript">

    var chart_1 = c3.generate({
        bindto: '#bar_chart',
        data: {
            columns: [
              ['num models',2904, 2402, 1384, 1125, 592, 564, 461, 379, 319, 309],
            ],
            type : 'bar',

            onclick: function (d, i) { console.log("onclick", d, i); },
            onmouseover: function (d, i) { console.log("onmouseover", d, i); },
            onmouseout: function (d, i) { console.log("onmouseout", d, i); }
        },
        axis: {
            x: {
                type: 'category',
                categories: ['huggingtweets', 'Jeevesh8', 'Helsinki-NLP', 'jonatasgrosman', 'huseinzol05', 'DOOGLAK', 'CEBaB', 'google', 'facebook', 'masakhane'],
                tick: {
                    rotate: 75,
                    multiline: false
                },
            }
        }
    });

    var chart_2 = c3.generate({
        bindto: '#donut_chart',
        data: {
            columns: [
                ['1'    , 13043],
                ['2-5'  , 24672],
                ['6-10' , 31065],
                ['11-15', 12832],
                ['16-50',  5227],
                ['>50 ' ,  1134],
            ],
            type : 'donut',

            onclick: function (d, i) { console.log("onclick", d, i); },
            onmouseover: function (d, i) { console.log("onmouseover", d, i); },
            onmouseout: function (d, i) { console.log("onmouseout", d, i); }
        },
        donut: {
            title: "Repos per num of files"
        }
    });

    var chart_4 = c3.generate({
        bindto: '#pie_chart',
        data: {
            columns: [
                ['yes'  ,  596],
                ['no'   , 7291],
            ],
            type : 'pie',

            onclick: function (d, i) { console.log("onclick", d, i); },
            onmouseover: function (d, i) { console.log("onmouseover", d, i); },
            onmouseout: function (d, i) { console.log("onmouseout", d, i); }
        },
    });

    var chart_5 = c3.generate({
        bindto: '#gauge',
        data: {
            columns: [
                ['model', (1632/61508*100).toFixed(4)],
                ['dataset', (704/7887*100).toFixed(4)],
                ['space', (465/7691*100).toFixed(4)],
            ],
            type: 'gauge',
            onclick: function (d, i) { console.log("onclick", d, i); },
            onmouseover: function (d, i) { console.log("onmouseover", d, i); },
            onmouseout: function (d, i) { console.log("onmouseout", d, i); }
        },
        size: {
            height: 250
        }
    });

    var chart_6 = c3.generate({
        bindto: '#donut_chart_discussions',
        data: {
            columns: [
                ['1'   , 2284],
                ['2-5' ,  460],
                ['6-10',   42],
                ['>10' ,   15],
            ],
            type : 'donut',

            onclick: function (d, i) { console.log("onclick", d, i); },
            onmouseover: function (d, i) { console.log("onmouseover", d, i); },
            onmouseout: function (d, i) { console.log("onmouseout", d, i); }
        },
        donut: {
            title: "Repos per num of discussions"
        },
        size: {
            height: 350,
        }
    });

    var chart_7 = c3.generate({
        bindto: '#bar_chart_comments',
        data: {
            columns: [
                ['num_comments', 1955, 98, 26, 359, 321, 42],
            ],
            type : 'bar',

            onclick: function (d, i) { console.log("onclick", d, i); },
            onmouseover: function (d, i) { console.log("onmouseover", d, i); },
            onmouseout: function (d, i) { console.log("onmouseout", d, i); }
        },
        axis: {
            x: {
                type: 'category',
                categories: ['1', '(1,1.5]', '(1.5,2)', '2', '(2,5]', '(5,12]'],
                tick: {
                    rotate: 75,
                    multiline: false
                },
            }
        }
    });


    </script>
    
</html>